<!DOCTYPE html>
<html lang="zh-CN">
	<head>
		<meta charset="UTF-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
		<meta name="renderer" content="webkit">
		<meta name="viewport" content="initial-scale=1.0,user-scalable=no,maximum-scale=1,width=device-width,viewport-fit=cover">
		<title>{{ &articleSingle.title }} - {{ &OPT.siteName }}</title>
		<meta name="keywords" content="{{ &keyWords }}" />
		<meta name="description" content="{{ &OPT.siteDescription }}" />

		{{ #OPT.favicon }}
		<link rel="icon" type="image/x-icon" href="{{ &OPT.favicon }}" />
		<link rel="shortcut icon" type="image/x-icon" href="{{ &OPT.favicon }}" />
		{{ /OPT.favicon }}

		<link rel='stylesheet' id='stylesheet-css' href='https://cdn.jsdelivr.net/gh/gdtool/cloudflare-workers-blog@master/themes/JustNews/files/main.css' type='text/css' media='all' />
		<link rel='stylesheet' id='font-awesome-css' href='https://cdn.jsdelivr.net/gh/gdtool/cloudflare-workers-blog@master/themes/JustNews/files/font-awesome.css?ver=6.1.2' type='text/css' media='all' />
		<link rel='stylesheet' id='wp-block-library-css' href='https://cdn.jsdelivr.net/gh/WordPress/WordPress@5.5.3/wp-includes/css/dist/block-library/style.min.css?ver=5.6' type='text/css' media='all' />
		<link rel='stylesheet' id='wp-components-css' href='https://cdn.jsdelivr.net/gh/WordPress/WordPress@5.5.3/wp-includes/css/dist/components/style.min.css?ver=5.6' type='text/css' media='all' />
		<link rel='stylesheet' id='wp-editor-font-css' href='https://fonts.geekzu.org/css?family=Noto+Serif%3A400%2C400i%2C700%2C700i&#038;ver=5.6' type='text/css' media='all' />
		<link rel='stylesheet' id='wp-block-editor-css' href='https://cdn.jsdelivr.net/gh/WordPress/WordPress@5.5.3/wp-includes/css/dist/block-editor/style.min.css?ver=5.6' type='text/css' media='all' />
		<link rel='stylesheet' id='wp-nux-css' href='https://cdn.jsdelivr.net/gh/WordPress/WordPress@5.5.3/wp-includes/css/dist/nux/style.min.css?ver=5.6' type='text/css' media='all' />
		<link rel='stylesheet' id='wp-editor-css' href='https://cdn.jsdelivr.net/gh/WordPress/WordPress@5.5.3/wp-includes/css/dist/editor/style.min.css?ver=5.6' type='text/css' media='all' />
		<link rel='stylesheet' id='mux_video_block_style-css' href='https://cdn.jsdelivr.net/gh/newexsexy/wp@master/wp-content/plugins/ilab-media-tools/public/blocks/mediacloud-mux.blocks.style.min.css' type='text/css' media='all' />
		
		<link rel='stylesheet' id='emojify-css' href='https://cdn.jsdelivr.net/npm/emojify.js@1.1.0/dist/css/basic/emojify.min.css?ver=1.1.0' type='text/css' media='all' />
		<script type='text/javascript' src='https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js?ver=3.5.1' id='jquery-core-js'></script>
		<script type='text/javascript' src='https://cdn.jsdelivr.net/gh/WordPress/WordPress@5.6/wp-includes/js/jquery/jquery-migrate.min.js?ver=3.3.2' id='jquery-migrate-js'></script>
		<script type='text/javascript' src='https://cdn.jsdelivr.net/gh/wpcom-cn/assets/fonts/icons-2.6.4.js?ver=6.1.2' id='wpcom-icons-js'></script>
		<link rel="stylesheet" href="https://cdn.staticfile.org/highlight.js/10.3.2/styles/tomorrow-night-bright.min.css">
		<script src='https://cdn.staticfile.org/highlight.js/10.3.2/highlight.min.js'></script>
		<style>
			/* é»‘å¤œæ¨¡å¼åˆ‡æ¢æŒ‰é’®æ ·å¼ */
			.dark-mode-btn {
				background: transparent;
				border: 1px solid #ddd;
				border-radius: 4px;
				padding: 8px 10px;
				cursor: pointer;
				display: inline-flex;
				align-items: center;
				justify-content: center;
				transition: all 0.3s ease;
				margin-right: 10px;
			}

			.dark-mode-btn:hover {
				background: #f5f5f5;
				border-color: #ccc;
			}

			.dark-mode-btn svg {
				display: block;
			}

			.dark-mode-btn .moon-icon {
				display: none;
			}

			/* é»‘å¤œæ¨¡å¼æ¿€æ´»æ—¶çš„æŒ‰é’®æ ·å¼ */
			body.dark-mode .dark-mode-btn {
				border-color: #444;
			}

			body.dark-mode .dark-mode-btn:hover {
				background: #2a2a2a;
				border-color: #555;
			}

			body.dark-mode .dark-mode-btn .sun-icon {
				display: none;
			}

			body.dark-mode .dark-mode-btn .moon-icon {
				display: block;
			}

			/* é»‘å¤œæ¨¡å¼ä¸»é¢˜é¢œè‰²å˜é‡ */
			body.dark-mode {
				--bg-primary: #1a1a1a;
				--bg-secondary: #2d2d2d;
				--bg-tertiary: #3a3a3a;
				--text-primary: #e4e4e4;
				--text-secondary: #b8b8b8;
				--text-muted: #888;
				--border-color: #444;
				--link-color: #6ab0f3;
				--link-hover: #89c4f4;
			}

			/* é»‘å¤œæ¨¡å¼å…¨å±€æ ·å¼ */
			body.dark-mode {
				background-color: var(--bg-primary);
				color: var(--text-primary);
			}

			body.dark-mode .header {
				background-color: var(--bg-secondary);
				border-bottom: 1px solid var(--border-color);
			}

			body.dark-mode .footer {
				background-color: var(--bg-secondary);
				border-top: 1px solid var(--border-color);
				color: var(--text-secondary);
			}

			body.dark-mode .main,
			body.dark-mode .sidebar {
				background-color: var(--bg-primary);
			}

			body.dark-mode .post,
			body.dark-mode .widget {
				background-color: var(--bg-secondary);
				border-color: var(--border-color);
			}

			body.dark-mode .entry-content,
			body.dark-mode .entry-title,
			body.dark-mode .widget-title,
			body.dark-mode .entry-info {
				color: var(--text-primary);
			}

			body.dark-mode .entry-content p,
			body.dark-mode .entry-content li,
			body.dark-mode .entry-content span {
				color: var(--text-secondary);
			}

			body.dark-mode a {
				color: var(--link-color);
			}

			body.dark-mode a:hover {
				color: var(--link-hover);
			}

			body.dark-mode .navbar-nav > li > a {
				color: var(--text-primary);
			}

			body.dark-mode .navbar-nav > li > a:hover {
				color: var(--link-color);
			}

			body.dark-mode .entry-page-prev,
			body.dark-mode .entry-page-next {
				background-color: var(--bg-tertiary) !important;
				border-color: var(--border-color);
			}

			body.dark-mode .entry-page-info {
				color: var(--text-secondary);
			}

			body.dark-mode .item-content .item-title a,
			body.dark-mode .cat-item a,
			body.dark-mode .tagcloud a {
				color: var(--text-primary);
			}

			body.dark-mode .item-content .item-date {
				color: var(--text-muted);
			}

			body.dark-mode code,
			body.dark-mode pre {
				background-color: var(--bg-tertiary);
				border-color: var(--border-color);
				color: var(--text-primary);
			}

			body.dark-mode blockquote {
				background-color: var(--bg-tertiary);
				border-left-color: var(--border-color);
				color: var(--text-secondary);
			}

			body.dark-mode .action {
				background-color: var(--bg-secondary);
				border-color: var(--border-color);
			}

			body.dark-mode .action-item-icon {
				color: var(--text-primary);
			}

			/* å¹³æ»‘è¿‡æ¸¡æ•ˆæœ */
			body,
			.header,
			.footer,
			.main,
			.sidebar,
			.post,
			.widget,
			a,
			.dark-mode-btn {
				transition: background-color 0.3s ease, color 0.3s ease, border-color 0.3s ease;
			}

			/* æ–‡ç« ç›®å½• TOC æ ·å¼ */
			.article-toc-container {
				position: fixed;
				top: 120px;
				right: 20px;
				width: 260px;
				max-height: calc(100vh - 160px);
				overflow-y: auto;
				background: #fff;
				border: 1px solid #e5e5e5;
				border-radius: 8px;
				padding: 20px;
				box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
				z-index: 100;
			}

			.article-toc-title {
				font-size: 16px;
				font-weight: 600;
				margin: 0 0 15px 0;
				padding-bottom: 10px;
				border-bottom: 2px solid #f0f0f0;
				color: #333;
			}

			.article-toc-list {
				list-style: none;
				margin: 0;
				padding: 0;
			}

			.article-toc-list li {
				margin: 0;
				padding: 0;
				line-height: 1.8;
			}

			.article-toc-list a {
				display: block;
				padding: 4px 0;
				color: #666;
				text-decoration: none;
				font-size: 14px;
				transition: all 0.2s;
				border-left: 2px solid transparent;
				padding-left: 10px;
			}

			.article-toc-list a:hover {
				color: #409eff;
				border-left-color: #409eff;
				padding-left: 12px;
			}

			.article-toc-list .toc-h3 a {
				padding-left: 20px;
				font-size: 13px;
			}

			.article-toc-list .toc-h4 a {
				padding-left: 30px;
				font-size: 12px;
			}

			.article-toc-list .toc-h5 a,
			.article-toc-list .toc-h6 a {
				padding-left: 40px;
				font-size: 12px;
			}

			/* é»‘å¤œæ¨¡å¼ä¸‹çš„ TOC æ ·å¼ */
			body.dark-mode .article-toc-container {
				background-color: var(--bg-secondary);
				border-color: var(--border-color);
			}

			body.dark-mode .article-toc-title {
				color: var(--text-primary);
				border-bottom-color: var(--border-color);
			}

			body.dark-mode .article-toc-list a {
				color: var(--text-secondary);
			}

			body.dark-mode .article-toc-list a:hover {
				color: var(--link-color);
				border-left-color: var(--link-color);
			}

			/* å“åº”å¼ï¼šå°å±å¹•éšè— TOC */
			@media (max-width: 1400px) {
				.article-toc-container {
					display: none;
				}
			}

			/* è‡ªå®šä¹‰æ»šåŠ¨æ¡ */
			.article-toc-container::-webkit-scrollbar {
				width: 6px;
			}

			.article-toc-container::-webkit-scrollbar-thumb {
				background: #ddd;
				border-radius: 3px;
			}

			body.dark-mode .article-toc-container::-webkit-scrollbar-thumb {
				background: #555;
			}

			/* åŠ å¯†æ–‡ç« å¾½ç« æ ·å¼ */
			.encrypted-badge {
				display: inline-block;
				color: #f59e0b;
				font-size: 0.9em;
				margin-right: 6px;
			}

			body.dark-mode .encrypted-badge {
				color: #fbbf24;
			}
		</style>
		{{ &OPT.codeBeforHead }}
	</head>
	<body class="archive paged category category-zhishi category-5 paged-2 category-paged-2 lang-cn el-boxed">
		<header class="header">
			<div class="container clearfix">
				<div class="navbar-header">
					<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target=".navbar-collapse">
						<span class="icon-bar icon-bar-1"></span>
						<span class="icon-bar icon-bar-2"></span>
						<span class="icon-bar icon-bar-3"></span>
					</button>
					<div class="logo">
						{{ #OPT.logo }}
						<a href="/" rel="home"><img src="{{ &OPT.logo }}" alt="{{ &OPT.siteName }}"></a>
						{{ /OPT.logo }}
						
						{{ ^OPT.logo }}
						<a href="/" rel="home"><img src="https://cdn.jsdelivr.net/gh/gdtool/cloudflare-workers-blog@master/themes/JustNews/files/logo2.png" alt="è¯·è‡ªå®šä¹‰OPT.logo"></a>
						{{ /OPT.logo }}
					</div>
				</div>
				<div class="collapse navbar-collapse">
					<nav class="navbar-left primary-menu">
						<ul id="menu-%e5%af%å¯¼%e8%88%aa" class="nav navbar-nav wpcom-adv-menu">
							{{ #widgetMenuList }}
								<li class="menu-item"><a href="{{ &url }}">{{ &title }}</a></li>
							{{ /widgetMenuList }}
						</ul>
					</nav>
					<div class="navbar-action pull-right">
						<button type="button" id="dark-mode-toggle" class="dark-mode-btn" aria-label="åˆ‡æ¢é»‘å¤œæ¨¡å¼" title="åˆ‡æ¢é»‘å¤œæ¨¡å¼">
							<svg class="sun-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
								<circle cx="12" cy="12" r="5"></circle>
								<line x1="12" y1="1" x2="12" y2="3"></line>
								<line x1="12" y1="21" x2="12" y2="23"></line>
								<line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
								<line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
								<line x1="1" y1="12" x2="3" y2="12"></line>
								<line x1="21" y1="12" x2="23" y2="12"></line>
								<line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
								<line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
							</svg>
							<svg class="moon-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
								<path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
							</svg>
						</button>
						<div id="j-user-wrap">
							<a class="login cur" href="/admin">ç™»å½•</a>
						</div>
					</div>
				</div>
			</div>
		</header>
		<div id="wrap">
			<div class="container wrap">


				<div class="main">
					<article id="post-{{ &articleSingle.id }}" class="post-{{ &articleSingle.id }} post type-post status-publish format-standard has-post-thumbnail hentry ">
						<div class="entry">
							<div class="entry-head">
								<h1 class="entry-title">
									{{ #articleSingle.isPinned }}
										<span style="color: #f59e0b; font-size: 0.9em; margin-right: 10px;">ğŸ“Œ ç½®é¡¶</span>
									{{ /articleSingle.isPinned }}
									{{ #articleSingle.isPasswordProtected }}
										<span class="encrypted-badge">ğŸ”’</span>
									{{ /articleSingle.isPasswordProtected }}
									{{ &articleSingle.title }}
								</h1>
								<div class="entry-info">
									<time class="entry-date published" datetime="{{ &articleSingle.createDate }}" pubdate="">{{ &articleSingle.createDate10 }}</time>
									<span class="dot">â€¢</span>
									{{ #articleSingle.category }}
										<a href="/category/{{&.}}" rel="category tag">{{&.}}</a>
									{{ /articleSingle.category }}
									<span class="dot">â€¢</span>
									<span class="leancloud_visitors">
										<em>{{ &OPT.otherCodeA }}</em>
										<span class="waline-pageview-count" data-path="{{ &articleSingle.url }}" />
									</span>
								</div>
							</div>
							<div class="entry-content">
								{{ &articleSingle.contentHtml }}
							</div>

							{{!-- ğŸ›ï¸ å•†å“ä¿¡æ¯åŒºåŸŸï¼ˆä»…å•†å“æ¨¡å¼æ˜¾ç¤ºï¼‰--}}
							{{ #articleSingle.isProduct }}
							<div class="product-info-card" style="margin-top: 30px; padding: 25px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); border-radius: 12px; box-shadow: 0 4px 20px rgba(0,0,0,0.1);">
								<h3 style="color: #fff; font-size: 20px; margin-bottom: 20px; display: flex; align-items: center;">
									<span style="font-size: 24px; margin-right: 10px;">ğŸ›ï¸</span>
									å•†å“è´­ä¹°ä¿¡æ¯
								</h3>

								<div style="background: rgba(255,255,255,0.95); padding: 20px; border-radius: 8px;">
									<!-- ä»·æ ¼ä¿¡æ¯ -->
									<div style="margin-bottom: 20px;">
										<div style="display: flex; align-items: baseline; gap: 10px; margin-bottom: 10px;">
											<span style="font-size: 32px; font-weight: 700; color: #e74c3c;">Â¥{{ &articleSingle.productPrice }}</span>
											{{ #articleSingle.productOriginalPrice }}
											<span style="font-size: 18px; text-decoration: line-through; color: #999;">Â¥{{ &articleSingle.productOriginalPrice }}</span>
											{{ /articleSingle.productOriginalPrice }}
										</div>
										<div style="display: flex; gap: 15px; flex-wrap: wrap;">
											<span style="display: inline-flex; align-items: center; gap: 5px; color: #666; font-size: 14px;">
												<span style="font-size: 18px;">ğŸ“¦</span>
												<strong>ç±»å‹ï¼š</strong>
												{{ #articleSingle.productType }}
													{{ #eq_virtual }}ğŸ’ è™šæ‹Ÿå•†å“ï¼ˆè‡ªåŠ¨å‘è´§ï¼‰{{ /eq_virtual }}
													{{ #eq_physical }}ğŸ“¦ å®ç‰©å•†å“ï¼ˆéœ€è¦ç‰©æµï¼‰{{ /eq_physical }}
												{{ /articleSingle.productType }}
											</span>
											<span style="display: inline-flex; align-items: center; gap: 5px; color: #666; font-size: 14px;">
												<span style="font-size: 18px;">ğŸ“Š</span>
												<strong>åº“å­˜ï¼š</strong>
												<span id="product-stock-display" style="color: {{ #gte_stock_10 }}#27ae60{{ /gte_stock_10 }}{{ #lt_stock_10 }}#e74c3c{{ /lt_stock_10 }};">{{ &articleSingle.productStock }}</span> ä»¶
											</span>
											<span style="display: inline-flex; align-items: center; gap: 5px; color: #666; font-size: 14px;">
												<span style="font-size: 18px;">âœ…</span>
												<strong>çŠ¶æ€ï¼š</strong>
												{{ #articleSingle.productStatus }}
													{{ #eq_active }}<span style="color: #27ae60;">ä¸Šæ¶é”€å”®ä¸­</span>{{ /eq_active }}
													{{ #eq_inactive }}<span style="color: #e74c3c;">å·²ä¸‹æ¶</span>{{ /eq_inactive }}
												{{ /articleSingle.productStatus }}
											</span>
										</div>
									</div>

									<!-- è´­ä¹°æŒ‰é’® -->
									<div style="margin-top: 20px;">
										{{ #is_product_available }}
										<button onclick="showPurchaseForm()" style="width: 100%; padding: 15px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: #fff; border: none; border-radius: 8px; font-size: 18px; font-weight: 600; cursor: pointer; transition: all 0.3s; display: flex; align-items: center; justify-content: center; gap: 10px;">
											<span style="font-size: 24px;">ğŸ›’</span>
											ç«‹å³è´­ä¹°
										</button>
										{{ /is_product_available }}
										{{ ^is_product_available }}
										<button disabled style="width: 100%; padding: 15px; background: #ccc; color: #666; border: none; border-radius: 8px; font-size: 18px; font-weight: 600; cursor: not-allowed;">
											å•†å“å·²ä¸‹æ¶æˆ–åº“å­˜ä¸è¶³
										</button>
										{{ /is_product_available }}
									</div>
								</div>
							</div>

							{{!-- è´­ä¹°è¡¨å•å¼¹çª— --}}
							<div id="purchase-modal" style="display: none; position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.7); z-index: 9999; overflow-y: auto;">
								<div style="max-width: 600px; margin: 50px auto; background: #fff; border-radius: 12px; padding: 30px; position: relative;">
									<button onclick="closePurchaseForm()" style="position: absolute; top: 15px; right: 15px; background: none; border: none; font-size: 24px; cursor: pointer; color: #999; line-height: 1;">Ã—</button>

									<h3 style="font-size: 22px; margin-bottom: 20px; color: #333;">
										<span style="font-size: 28px;">ğŸ›’</span> ç¡®è®¤è´­ä¹°
									</h3>

									<form id="purchase-form" onsubmit="submitPurchase(event)">
										<input type="hidden" name="product_id" value="{{ &articleSingle.id }}">
										<input type="hidden" name="product_name" value="{{ &articleSingle.title }}">
										<input type="hidden" name="quantity" value="1">

										<!-- å•†å“ä¿¡æ¯ç¡®è®¤ -->
										<div style="background: #f8f9fa; padding: 15px; border-radius: 8px; margin-bottom: 20px;">
											<div style="display: flex; justify-content: space-between; margin-bottom: 10px;">
												<span style="color: #666;">å•†å“åç§°ï¼š</span>
												<strong>{{ &articleSingle.title }}</strong>
											</div>
											<div style="display: flex; justify-content: space-between; margin-bottom: 10px;">
												<span style="color: #666;">å•ä»·ï¼š</span>
												<strong style="color: #e74c3c; font-size: 18px;">Â¥{{ &articleSingle.productPrice }}</strong>
											</div>
											<div style="display: flex; justify-content: space-between;">
												<span style="color: #666;">æ•°é‡ï¼š</span>
												<strong>1</strong>
											</div>
											<hr style="margin: 10px 0; border: none; border-top: 1px solid #ddd;">
											<div style="display: flex; justify-content: space-between; font-size: 18px;">
												<span style="color: #666;">æ€»è®¡ï¼š</span>
												<strong style="color: #e74c3c; font-size: 22px;">Â¥{{ &articleSingle.productPrice }}</strong>
											</div>
										</div>

										<!-- è‡ªå®šä¹‰å­—æ®µï¼ˆå¦‚æœæœ‰ï¼‰-->
										{{!-- TODO: è¿™é‡Œéœ€è¦æ ¹æ® customFields æ¸²æŸ“åŠ¨æ€è¡¨å•å­—æ®µ --}}
										<div class="custom-fields-container">
											<div style="margin-bottom: 15px;">
												<label style="display: block; margin-bottom: 5px; color: #333; font-weight: 500;">è”ç³»é‚®ç®± *</label>
												<input type="email" name="contact_email" required style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px;">
												<small style="color: #999;">ç”¨äºæ¥æ”¶è®¢å•ä¿¡æ¯å’Œè™šæ‹Ÿå•†å“å†…å®¹</small>
											</div>
											<div style="margin-bottom: 15px;">
												<label style="display: block; margin-bottom: 5px; color: #333; font-weight: 500;">è”ç³»ç”µè¯</label>
												<input type="tel" name="contact_phone" style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px;">
											</div>
										</div>

										<button type="submit" id="submit-purchase-btn" style="width: 100%; padding: 15px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: #fff; border: none; border-radius: 8px; font-size: 18px; font-weight: 600; cursor: pointer;">
											ç¡®è®¤è´­ä¹°å¹¶æ”¯ä»˜
										</button>
									</form>
								</div>
							</div>
							{{ /articleSingle.isProduct }}

							<div class="entry-footer">
								{{ #articleSingle.tags.0 }}
								<div class="entry-tag">
									{{ #articleSingle.tags }}
										<a href="/tags/{{&.}}" rel="tag">{{&.}}</a>
									{{ /articleSingle.tags }}
								</div>
								{{ /articleSingle.tags.0 }}

								<div class="entry-page">

									{{ #articleNewer }}	
									<div class="entry-page-prev j-lazy lazyloaded" style="background-image: url(&quot;{{ &img }}&quot;); display: block;" data-original="{{ &img }}" data-bg="{{ &img }}" fifu-width="392" fifu-height="86">
										<a href="{{ &url }}" title="{{ &title }}" rel="prev" >
											<span>{{ &title }}</span></a>
										<div class="entry-page-info">
											<span class="pull-left">
												<i class="wpcom-icon wi">
													<svg aria-hidden="true">
														<use xlink:href="#wi-arrow-left-double"></use>
													</svg>
												</i>ä¸Šä¸€ç¯‡</span>
											<span class="pull-right">{{ &createDate10 }}</span></div>
									</div>
									{{ /articleNewer }}

									{{ #articleOlder }}
									<div class="entry-page-next j-lazy lazyloaded" style="background-image: url(&quot;{{ &img }}&quot;); display: block;" data-original="{{ &img }}" data-bg="{{ &img }}" fifu-width="392" fifu-height="86">
										<a href="{{ &url }}" title="{{ &title }}" rel="next" >
											<span>{{ &title }}</span></a>
										<div class="entry-page-info">
											<span class="pull-right">ä¸‹ä¸€ç¯‡
												<i class="wpcom-icon wi">
													<svg aria-hidden="true">
														<use xlink:href="#wi-arrow-right-double"></use></svg>
												</i>
											</span>
											<span class="pull-left">{{ &createDate10 }}</span></div>
									</div>
									{{ /articleOlder }}
								</div>
							</div>
							<div id="comments" class="entry-comments">
								{{ ^articleSingle.isPasswordProtected }}
								{{ &OPT.commentCode }}
								{{ /articleSingle.isPasswordProtected }}
							</div>
						</div>
					</article>
				</div>

				<aside class="sidebar">
					<div id="wpcom-post-thumb-2" class="widget widget_post_thumb">
						<h3 class="widget-title">
							<span>è¿‘æœŸæ–‡ç« </span></h3>
						<ul>
							{{ #widgetRecentlyList }}
							<li class="item">
								<div class="item-img">
									{{ #img }}
									<a class="item-img-inner" href="{{ &url }}" title="{{ &title }}">
										<img width="480" height="264" src="{{ &img }}" class="attachment-post-thumbnail size-post-thumbnail wp-post-image j-lazy" alt="" title="" data-original="{{ &img }}" style="object-fit: cover; object-position: center;" /></a>
									{{ /img }}
									{{ ^img }}
									<a class="item-img-inner" href="{{ &url }}" title="{{ &title }}">
										<img width="480" height="264" src="https://cdn.jsdelivr.net/gh/vps808989/cloudflare-workers-blog@master/themes/JustNews2/images/defaults/{{ &defaultImg }}" class="attachment-post-thumbnail size-post-thumbnail wp-post-image j-lazy" alt="" title="" style="object-fit: cover; object-position: center;" />
									</a>
									{{ /img }}
								</div>
								<div class="item-content">
									<p class="item-title">
										<a href="{{ &url }}" title="{{ &title }}">
											{{ #isPasswordProtected }}
												<span class="encrypted-badge">ğŸ”’</span>
											{{ /isPasswordProtected }}
											{{ &title }}
										</a></p>
									<p class="item-date">{{ &createDate10 }}</p></div>
							</li>
							{{ /widgetRecentlyList }}									
						</ul>
					</div>
					<div id="categories-3" class="widget widget_categories">
						<h3 class="widget-title">
							<span>åˆ†ç±»ç›®å½•</span></h3>
						<ul>
							{{ #widgetCategoryList }}
							<li class="cat-item cat-item-5 current-cat">
								<a aria-current="page" href="/category/{{&.}}">{{&.}}</a></li>
							{{ /widgetCategoryList }}
						</ul>
					</div>
					{{ #widgetTagsList.0 }}
					<div id="tag_cloud-3" class="widget widget_tag_cloud">
						<h3 class="widget-title">
							<span>æ ‡ç­¾</span></h3>
						<div class="tagcloud">
							{{ #widgetTagsList }}
							<a href="/tags/{{&.}}" class="tag-cloud-link tag-link-6 tag-link-position-1" style="font-size: 8pt;" aria-label="{{&.}}">{{&.}}</a>
							{{ /widgetTagsList }}
						</div>
					</div>
					{{ /widgetTagsList.0 }}

					<div id="linkcat-0" class="widget widget_links">
						<h3 class="widget-title">
							<span>é“¾æ¥</span></h3>
						<ul class='xoxo blogroll'>
							{{ #widgetLinkList }}
									<li><a href="{{ &url }}" target="_blank">{{ &title }}</a></li>
							{{ /widgetLinkList }}
						</ul>
					</div>
					{{ &OPT.widgetOther }}
				</aside>
			</div>
		</div>

		<!-- æ–‡ç« ç›®å½• TOC -->
		<div class="article-toc-container">
			<div class="article-toc-title">ğŸ“‘ æ–‡ç« ç›®å½•</div>
			<ul class="article-toc-list" id="article-toc"></ul>
		</div>

		<footer class="footer">
			<div class="container">
				<div class="clearfix">
					<div class="footer-col footer-col-copy">
						<div class="copyright">
							<p>{{ &OPT.copyRight }}</p>
						</div>
					</div>
					<div class="footer-col footer-col-sns">
						<div class="footer-sns"></div>
					</div>
				</div>
			</div>
		</footer>
		<div class="action action-style-0 action-color-0 action-pos-0" style="bottom:20%;">
			<div class="action-item gotop j-top">
				<i class="wpcom-icon wi action-item-icon">
					<svg aria-hidden="true">
						<use xlink:href="#wi-arrow-up-2"></use>
					</svg>
				</i>
			</div>
		</div>

<link rel='stylesheet' id='lazyload-spinner-css' href='https://cdn.jsdelivr.net/gh/gdtool/cloudflare-workers-blog@master/themes/JustNews/files/lazyload.css?ver=3.4.9' type='text/css' media='all' />
<script type='text/javascript' id='main-js-extra'>
/* <![CDATA[ */
var _wpcom_js = {"webp":"","ajaxurl":"","theme_url":"https://cdn.jsdelivr.net/gh/gdtool/cloudflare-workers-blog@master/themes/JustNews/","slide_speed":"5000","lightbox":"1","user_card_height":"356","video_height":"482","fixed_sidebar":"1","login_url":"/admin","register_url":"/","errors":{"require":"\u4e0d\u80fd\u4e3a\u7a7a","email":"\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u7535\u5b50\u90ae\u7bb1","pls_enter":"\u8bf7\u8f93\u5165","password":"\u5bc6\u7801\u5fc5\u987b\u4e3a6~32\u4e2a\u5b57\u7b26","passcheck":"\u4e24\u6b21\u5bc6\u7801\u8f93\u5165\u4e0d\u4e00\u81f4","phone":"\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u624b\u673a\u53f7\u7801","terms":"Please read and agree with the terms","sms_code":"\u9a8c\u8bc1\u7801\u9519\u8bef","captcha_verify":"\u8bf7\u70b9\u51fb\u6309\u94ae\u8fdb\u884c\u9a8c\u8bc1","captcha_fail":"\u70b9\u51fb\u9a8c\u8bc1\u5931\u8d25\uff0c\u8bf7\u91cd\u8bd5","nonce":"\u968f\u673a\u6570\u6821\u9a8c\u5931\u8d25","req_error":"\u8bf7\u6c42\u5931\u8d25"},"follow_btn":"<i class=\"wpcom-icon wi\"><svg aria-hidden=\"true\"><use xlink:href=\"#wi-add\"><\/use><\/svg><\/i>\u5173\u6ce8","followed_btn":"\u5df2\u5173\u6ce8","user_card":"1"};
/* ]]> */
</script>
<script type='text/javascript' src='https://cdn.jsdelivr.net/gh/gdtool/cloudflare-workers-blog@master/themes/JustNews/files/main.js?ver=6.1.2' id='main-js'></script>
<script type='text/javascript' src='https://cdn.jsdelivr.net/gh/WordPress/WordPress@5.6/wp-includes/js/comment-reply.min.js?ver=5.6' id='comment-reply-js'></script>
<script type='text/javascript' src='https://cdn.jsdelivr.net/gh/idiotWu/jQuery-TOC@0.0.6/dist/jquery.toc.min.js?ver=1.0.1' id='githuber-toc-js'></script>
<script type='text/javascript' src='https://cdn.jsdelivr.net/gh/WordPress/WordPress@5.5.3/wp-includes/js/clipboard.min.js?ver=5.6' id='clipboard-js'></script>
<script type='text/javascript' src='https://cdn.jsdelivr.net/npm/emojify.js@1.1.0/dist/js/emojify.min.js?ver=1.1.0' id='emojify-js'></script>
<script type='text/javascript' src='https://cdn.jsdelivr.net/gh/gdtool/cloudflare-workers-blog@master/themes/JustNews/files/wp-embed.js?ver=6.1.2' id='wp-embed-js'></script>
<script type='text/javascript' src='https://cdn.jsdelivr.net/gh/gdtool/cloudflare-workers-blog@master/themes/JustNews/files/lazySizesConfig.js?ver=3.4.9' id='lazysizes-config-js'></script>
<script type='text/javascript' src='https://cdnjs.cloudflare.com/ajax/libs/lazysizes/5.2.2/plugins/unveilhooks/ls.unveilhooks.min.js?ver=5.6' id='unveilhooks-js'></script>
<script type='text/javascript' src='https://cdnjs.cloudflare.com/ajax/libs/lazysizes/5.2.2/plugins/bgset/ls.bgset.min.js?ver=5.6' id='bgset-js'></script>
<script type='text/javascript' src='https://cdnjs.cloudflare.com/ajax/libs/lazysizes/5.2.2/lazysizes.min.js?ver=5.6' id='lazysizes-js'></script>
<script type='text/javascript' id='fifu-image-js-js-extra'>
/* <![CDATA[ */
var fifuImageVars = {"fifu_lazy":"1","fifu_woo_lbox_enabled":"1","fifu_woo_zoom":"inline","fifu_is_product":"","fifu_is_flatsome_active":"","fifu_rest_url":"","fifu_nonce":"96a15ffec7"};
/* ]]> */
</script>
<script type='text/javascript' src='https://cdn.jsdelivr.net/gh/gdtool/cloudflare-workers-blog@master/themes/JustNews/files/image.js?ver=3.4.9' id='fifu-image-js-js'></script>



<script id="module-toc"> (function($) { $(function() { $("#md-post-toc").initTOC({ selector: "h2, h3, h4, h5, h6", scope: ".post", }); $("#md-post-toc a").click(function(e) { e.preventDefault(); var aid = $( this ).attr( "href" ); $( "html, body" ).animate( { scrollTop: $(aid).offset().top - 80 }, "slow" ); }); $("#md-widget-toc").initTOC({ selector: "h2, h3, h4, h5, h6", scope: ".post", }); $("#md-widget-toc a").click(function(e) { e.preventDefault(); var aid = $( this ).attr( "href" ); $( "html, body" ).animate( { scrollTop: $(aid).offset().top - 80 }, "slow" ); }); }); })(jQuery); </script> <script id="module-clipboard"> (function($) { $(function() { var pre = document.getElementsByTagName("pre"); var pasteContent = document.getElementById("paste-content"); var hasLanguage = false; for (var i = 0; i < pre.length; i++) { var codeClass = pre[i].children[0].className; var isLanguage = codeClass.indexOf("language-"); var excludedCodeClassNames = [ "language-katex", "language-seq", "language-sequence", "language-flow", "language-flowchart", "language-mermaid", ]; var isExcluded = excludedCodeClassNames.indexOf(codeClass); if (isExcluded !== -1) { isLanguage = -1; } if (isLanguage !== -1) { var button = document.createElement("button"); button.className = "copy-button"; button.textContent = "Copy"; pre[i].appendChild(button); hasLanguage = true; } }; if (hasLanguage) { var copyCode = new ClipboardJS(".copy-button", { target: function(trigger) { return trigger.previousElementSibling; } }); copyCode.on("success", function(event) { event.clearSelection(); event.trigger.textContent = "Copied"; window.setTimeout(function() { event.trigger.textContent = "Copy"; }, 2000); }); } }); })(jQuery); </script>
<script id="module-emojify">
				(function($) {
					$(function() {
						if (typeof emojify !== "undefined") {
							emojify.setConfig({
								img_dir: "https://cdn.jsdelivr.net/npm/emojify.js@1.1.0/dist/images/basic",
								blacklist: {
									"classes": ["no-emojify"],
									"elements": ["script", "textarea", "pre", "code"]
								}
							});
							emojify.run();
						} else {
							console.log("[wp-githuber-md] emogify is undefined.");
						}
					});
				})(jQuery);
			</script>
<script>hljs.initHighlightingOnLoad(); //ä»£ç é«˜äº®
					</script>
		<script id="article-toc-generator">
			// æ–‡ç« ç›®å½•ç”Ÿæˆå™¨
			(function() {
				// ç­‰å¾… DOM åŠ è½½å®Œæˆ
				if (document.readyState === 'loading') {
					document.addEventListener('DOMContentLoaded', initTOC);
				} else {
					initTOC();
				}

				function initTOC() {
					const tocContainer = document.getElementById('article-toc');
					const entryContent = document.querySelector('.entry-content');

					if (!tocContainer || !entryContent) {
						// å¦‚æœæ²¡æœ‰å†…å®¹åŒºåŸŸï¼Œéšè— TOC
						const tocWrapper = document.querySelector('.article-toc-container');
						if (tocWrapper) {
							tocWrapper.style.display = 'none';
						}
						return;
					}

					// è·å–æ‰€æœ‰æ ‡é¢˜
					const headings = entryContent.querySelectorAll('h2, h3, h4, h5, h6');

					if (headings.length === 0) {
						// å¦‚æœæ²¡æœ‰æ ‡é¢˜ï¼Œéšè— TOC
						const tocWrapper = document.querySelector('.article-toc-container');
						if (tocWrapper) {
							tocWrapper.style.display = 'none';
						}
						return;
					}

					// ä¸ºæ¯ä¸ªæ ‡é¢˜æ·»åŠ  IDï¼ˆå¦‚æœæ²¡æœ‰ï¼‰
					headings.forEach(function(heading, index) {
						if (!heading.id) {
							heading.id = 'heading-' + index;
						}
					});

					// ç”Ÿæˆ TOC åˆ—è¡¨
					let tocHTML = '';
					headings.forEach(function(heading) {
						const level = heading.tagName.toLowerCase();
						const text = heading.textContent.trim();
						const id = heading.id;

						tocHTML += '<li class="toc-' + level + '">';
						tocHTML += '<a href="#' + id + '">' + text + '</a>';
						tocHTML += '</li>';
					});

					tocContainer.innerHTML = tocHTML;

					// æ·»åŠ å¹³æ»‘æ»šåŠ¨
					const tocLinks = tocContainer.querySelectorAll('a');
					tocLinks.forEach(function(link) {
						link.addEventListener('click', function(e) {
							e.preventDefault();
							const targetId = this.getAttribute('href').substring(1);
							const targetElement = document.getElementById(targetId);

							if (targetElement) {
								const headerOffset = 100;
								const elementPosition = targetElement.getBoundingClientRect().top;
								const offsetPosition = elementPosition + window.pageYOffset - headerOffset;

								window.scrollTo({
									top: offsetPosition,
									behavior: 'smooth'
								});
							}
						});
					});
				}
			})();
		</script>
		<script id="dark-mode-toggle-script">
			// é»‘å¤œæ¨¡å¼åˆ‡æ¢åŠŸèƒ½
			(function() {
				// é¡µé¢åŠ è½½æ—¶æ£€æŸ¥å¹¶åº”ç”¨ä¿å­˜çš„ä¸»é¢˜
				const savedTheme = localStorage.getItem('theme');
				if (savedTheme === 'dark') {
					document.body.classList.add('dark-mode');
				}

				// åˆ‡æ¢æŒ‰é’®ç‚¹å‡»äº‹ä»¶
				const toggleBtn = document.getElementById('dark-mode-toggle');
				if (toggleBtn) {
					toggleBtn.addEventListener('click', function() {
						document.body.classList.toggle('dark-mode');

						// ä¿å­˜ç”¨æˆ·åå¥½åˆ° localStorage
						if (document.body.classList.contains('dark-mode')) {
							localStorage.setItem('theme', 'dark');
						} else {
							localStorage.setItem('theme', 'light');
						}
					});
				}
			})();
		</script>

		<!-- ğŸ›ï¸ å•†å“è´­ä¹°åŠŸèƒ½ JavaScript -->
		{{ #articleSingle.isProduct }}
		<script>
			// æ˜¾ç¤ºè´­ä¹°è¡¨å•
			function showPurchaseForm() {
				document.getElementById('purchase-modal').style.display = 'block';
				document.body.style.overflow = 'hidden'; // é˜²æ­¢èƒŒæ™¯æ»šåŠ¨
			}

			// å…³é—­è´­ä¹°è¡¨å•
			function closePurchaseForm() {
				document.getElementById('purchase-modal').style.display = 'none';
				document.body.style.overflow = 'auto';
			}

			// æäº¤è´­ä¹°
			async function submitPurchase(event) {
				event.preventDefault();

				const form = document.getElementById('purchase-form');
				const submitBtn = document.getElementById('submit-purchase-btn');
				const originalText = submitBtn.textContent;

				// ç¦ç”¨æŒ‰é’®ï¼Œé˜²æ­¢é‡å¤æäº¤
				submitBtn.disabled = true;
				submitBtn.textContent = 'æ­£åœ¨åˆ›å»ºè®¢å•...';

				try {
					// æ”¶é›†è¡¨å•æ•°æ®
					const formData = new FormData(form);
					const orderData = {
						productId: formData.get('product_id'),
						quantity: parseInt(formData.get('quantity')),
						contactEmail: formData.get('contact_email'),
						contactPhone: formData.get('contact_phone'),
						customFields: {} // TODO: æ”¶é›†è‡ªå®šä¹‰å­—æ®µ
					};

					// è°ƒç”¨åˆ›å»ºè®¢å• API
					const response = await fetch('/api/order/create', {
						method: 'POST',
						headers: {
							'Content-Type': 'application/json'
						},
						body: JSON.stringify(orderData)
					});

					const result = await response.json();

					if (result.success) {
						// è·³è½¬åˆ°æ”¯ä»˜é¡µé¢
						window.location.href = result.payUrl;
					} else {
						alert('åˆ›å»ºè®¢å•å¤±è´¥ï¼š' + (result.message || 'æœªçŸ¥é”™è¯¯'));
						submitBtn.disabled = false;
						submitBtn.textContent = originalText;
					}
				} catch (error) {
					console.error('åˆ›å»ºè®¢å•å‡ºé”™ï¼š', error);
					alert('åˆ›å»ºè®¢å•æ—¶å‘ç”Ÿé”™è¯¯ï¼Œè¯·ç¨åé‡è¯•');
					submitBtn.disabled = false;
					submitBtn.textContent = originalText;
				}
			}

			// ç‚¹å‡»æ¨¡æ€æ¡†èƒŒæ™¯å…³é—­
			document.getElementById('purchase-modal').addEventListener('click', function(e) {
				if (e.target === this) {
					closePurchaseForm();
				}
			});

			// ESC é”®å…³é—­æ¨¡æ€æ¡†
			document.addEventListener('keydown', function(e) {
				if (e.key === 'Escape' && document.getElementById('purchase-modal').style.display === 'block') {
					closePurchaseForm();
				}
			});
		</script>
		{{ /articleSingle.isProduct }}

		{{ &OPT.codeBeforBody }}
	</body>

</html>
